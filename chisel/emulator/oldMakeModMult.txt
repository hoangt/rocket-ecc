LDFLAGS = -g
CPPFLAGS = -g -I./generated-src
CPP = g++
INCLUDES = generated-src/emulator.h generated-src/modMultiply.h

default : all

modMultiply.o: generated-src/modMultiply.cpp $(INCLUDES)
	$(CPP) $(CPPFLAGS) -c $<

modMultiply-emulator.o: testbench/modMultiply-emulator.cpp $(INCLUDES)
	$(CPP) $(CPPFLAGS) -c $<

modMultiply-emulator: modMultiply-emulator.o modMultiply.o
	$(CPP) $(LDFLAGS) -o $@ $+

run : modMultiply-emulator
	./modMultiply-emulator

all : modMultiply-emulator

clean :
	rm modMultiply-emulator.o modMultiply.o modMultiply-emulator

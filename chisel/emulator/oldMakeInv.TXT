LDFLAGS = -g
CPPFLAGS = -g -I./generated-src
CPP = g++
INCLUDES = generated-src/emulator.h generated-src/modInv.h

default : all

modInv.o: generated-src/modInv.cpp $(INCLUDES)
	$(CPP) $(CPPFLAGS) -c $<

modInv-emulator.o: testbench/modInv-emulator.cpp $(INCLUDES)
	$(CPP) $(CPPFLAGS) -c $<

modInv-emulator: modInv-emulator.o modInv.o
	$(CPP) $(LDFLAGS) -o $@ $+

run : modInv-emulator
	./modInv-emulator

all : modInv-emulator

clean :
	rm modInv-emulator.o modInv.o modInv-emulator
